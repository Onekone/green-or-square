## Входное тестовое задание на курс "Основы оптимизации веб-сайтов"

### [Исходное задание](https://bitbucket.org/GuestOne/web-optimization-2019-enter.git)

* Для получения исходных данных склонируйте репозиторий https://bitbucket.org/GuestOne/web-optimization-2019-enter.git
* В папке input_data находится несколько файлов изображений в формате JPEG. Выберите из них те, которые являются более зелёными, чем квадратными.
  * Квадратность изображения — отношение длины меньшей стороны к большей. Соответственно квадратность квадратного изображения равна 1,0.
  * Зелёность растрового изображения — отношение числа зелёных пикселей к общему числу пикселей в изображении. Пиксель считается «зелёным» если зелёная компонента его цвета в модели RGB больше и синей и красной, т. е. G == max(R, G, B). Соответственно зелёность полностью зелёного прямоугольника равна 1,0.
* Напишите код для программы, которая выводит на экран имена файлов из каталога input_data с пометкой «Да», **если файл является более зелёным, чем квадратным, и «Нет» в обратном случае.** Используйте язык программирования, на котором написаны поддерживаемые вами проекты.

### Системные требования

* php 7.2 (работало на 7.2.12-1)
* php-gd

### Описание

Представлено два метода с двумя вариантами вывода:

* `app.php` рассчитывает по каналам, если зеленого канала больше всех, то пиксель считается зеленым.
* `hsv-app.php` рассчитывает, преобразовывая RGB в HSL, и если H находится в промежутке 75deg (условно #BFFF00) до 165deg (#00FFBF), с произвольной контрастностью (V) и насыщенностью (S), то пиксель считается зеленым.
* Если количество зеленых пикселей превышает произведения ширины, высоты и квадратности, то алгоритм бросает дальнейший расчет в этом файле
(например, если в **150**х**100** файле больше чем **9900** зеленых пикселей из 15000, то на 9901-ом картинка считается зеленее, чем квадратнее, и процесс останавливается)

Альтернативно:

* `output-app.php` и `output-hsv-app.php` аналогичны `app.php` и `hsv-app.php`, но выводит изображение в папку `output_data`, закрашивая пиксель зеленым или красным, в зависимости от результата проверки
    * Проходит по всем картинкам целиком


### Запуск

```
php ./app.php
php ./hsv-app.php
php ./output-app.php
php ./output-hsv-app.php
```

### Вывод

`app.php`
``` 
01.jpg?Нет
02.jpg?Нет
03.jpg?Нет
04.jpg?Нет
05.jpg?Да
06.jpg?Да
07.jpg?Нет
08.jpg?Нет
09.jpg?Нет
10.jpg?Да
11.jpg?Нет
12.jpg?Нет
13.jpg?Нет
14.jpg?Нет
15.jpg?Нет
16.jpg?Нет
17.jpg?Нет
18.jpg?Нет
19.jpg?Нет
20.jpg?Нет
21.jpg?Нет
22.jpg?Нет
23.jpg?Нет
24.jpg?Да
Время: 1,8077440261841
```
`hsv-app.php`
```
01.jpg?Нет
02.jpg?Нет
03.jpg?Нет
04.jpg?Нет
05.jpg?Да
06.jpg?Нет
07.jpg?Нет
08.jpg?Нет
09.jpg?Нет
10.jpg?Да
11.jpg?Нет
12.jpg?Нет
13.jpg?Нет
14.jpg?Нет
15.jpg?Нет
16.jpg?Нет
17.jpg?Нет
18.jpg?Нет
19.jpg?Нет
20.jpg?Нет
21.jpg?Нет
22.jpg?Нет
23.jpg?Нет
24.jpg?Да
Время: 5,0648000240326
```
`output-app.php`
``` 
01.jpg?green: 659613 square:1440000 Нет
02.jpg?green: 43320 square:230400 Нет
03.jpg?green: 49305 square:1166400 Нет
04.jpg?green: 135077 square:1247689 Нет
05.jpg?green: 1599999 square:1000000 Да
06.jpg?green: 685481 square:640000 Да
07.jpg?green: 199725 square:1000000 Нет
08.jpg?green: 53146 square:190096 Нет
09.jpg?green: 467622 square:485809 Нет
10.jpg?green: 542170 square:521284 Да
11.jpg?green: 92599 square:254016 Нет
12.jpg?green: 53977 square:589824 Нет
13.jpg?green: 185984 square:1085764 Нет
14.jpg?green: 657711 square:1000000 Нет
15.jpg?green: 347002 square:518400 Нет
16.jpg?green: 281898 square:360000 Нет
17.jpg?green: 164 square:1102500 Нет
18.jpg?green: 201541 square:2359296 Нет
19.jpg?green: 232746 square:304704 Нет
20.jpg?green: 125668 square:640000 Нет
21.jpg?green: 640000 square:640000 Нет
22.jpg?green: 1071726 square:1327104 Нет
23.jpg?green: 507916 square:518400 Нет
24.jpg?green: 480000 square:360000 Да
Время: 3,378340959549
```
`output-hsv-app.php`
``` 
01.jpg?green: 540767 square:1440000 Нет
02.jpg?green: 24565 square:230400 Нет
03.jpg?green: 46291 square:1166400 Нет
04.jpg?green: 64178 square:1247689 Нет
05.jpg?green: 1599993 square:1000000 Да
06.jpg?green: 550585 square:640000 Нет
07.jpg?green: 132759 square:1000000 Нет
08.jpg?green: 33826 square:190096 Нет
09.jpg?green: 464697 square:485809 Нет
10.jpg?green: 525527 square:521284 Да
11.jpg?green: 53860 square:254016 Нет
12.jpg?green: 37290 square:589824 Нет
13.jpg?green: 144382 square:1085764 Нет
14.jpg?green: 558001 square:1000000 Нет
15.jpg?green: 317582 square:518400 Нет
16.jpg?green: 258984 square:360000 Нет
17.jpg?green: 0 square:1102500 Нет
18.jpg?green: 78180 square:2359296 Нет
19.jpg?green: 217463 square:304704 Нет
20.jpg?green: 84759 square:640000 Нет
21.jpg?green: 640000 square:640000 Нет
22.jpg?green: 931316 square:1327104 Нет
23.jpg?green: 371076 square:518400 Нет
24.jpg?green: 480000 square:360000 Да
Время: 6,5787889957428
```
